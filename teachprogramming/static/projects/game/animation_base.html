<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link id="favicon" rel="shortcut icon" type="image/png" href="data:image/png;base64,....==" />
</head>
<body></body>
<script type="module">

import {CanvasAnimationBase} from './animation_base.js'

class CanvasDemo extends CanvasAnimationBase {
    constructor() {
        super(...arguments)
        this.x = 100
        this.y = 100
        this.load_image("block", "images/block.gif")
    }
    model_inc(frame) {
        //console.log(this.keys_pressed)
        if (this.keys_pressed.has('ArrowUp'))    {this.y += -1}
        if (this.keys_pressed.has('ArrowDown'))  {this.y +=  1}
        if (this.keys_pressed.has('ArrowLeft'))  {this.x += -1}
        if (this.keys_pressed.has('ArrowRight')) {this.x +=  1}
    }
    draw(context, frame) {
        this.clear()
        const c = context

        let t = frame % this.w
        c.fillStyle ="#f0b000"
        c.fillRect(t, 10, 120, 80)

        t = frame % this.h
        this.drawLine(c, t, t, t+10, t+10, 'red', 5)

        c.drawImage(this.images["block"], this.mouse_x, this.mouse_y)

        c.drawImage(this.images["block"], this.x, this.y)
    }
}

(new CanvasDemo()).setRunning(true)
</script></html>
